# Change Log

All notable changes to this project are documented in this file.

This project adheres to [Semantic Versioning](http://semver.org/) and the changelog is formatted based on [Keep a Changelog](http://keepachangelog.com/).

## [1.96.49] - 2023-10-05

### Added

- OData V2:
  - Added support for standard header actions `Share` and `Up and Down Navigation`, and footer action `Save and Edit`
- OData V4:
  - Support for custom header sections
  - Support for custom filter fields

### Changed

### Removed

### Deprecated

### Fixed

- OData V2:
  - A missing entitySet definition for a page in manifest was not indicated correctly in the returned log. Even worse, the export deleted the related page in such a scenario. This is fixed now, the schema generation as well as the import are more fault-tolerant now with regard to this situation
- OData V4:
  - Added missing descriptions to custom section properties `relatedFacet`, `relativePosition`, `id`, `fragmentName`
  - Custom section properties `className` and `type` are marked as hidden

### Quality

- Update transitive dependencies

Upgrades:

- @sap-ux/fe-fpm-writer to 0.23.8
- eslint to 8.50.0
- @types/d3 to 7.4.1
- @types/semver to 7.5.3
- @types/jquery to 3.5.20
- @types/mem-fs-editor to 7.0.4

## [1.96.48] - 2023-09-21

### Added

- Check "UI.LineItem is not defined" added to OData V2
- More error messages added to the logger in case of inconsistencies with regards to the page definitions in manifest
- Added new tag `descriptionSrcURL` to certain properties

### Changed

- Error handling enhanced to detect missing component names of pages. An error message is added to the log passed in the API call
- References now use platform-independent SAPUI5 CDN URL `ui5.sap.com`

### Fixed

- The error message "UI.LineItem is not defined" wrongly appeared in the output log when views and/or (Selection)PresentationVariants have been used
- In case of a missing entitySet definition in the manifest for a List Report, subsequent Object Pages got deleted during the export

### Quality

- Update transitive dependencies

Upgrades:

- eslint to v8.49.0
- @sap-ux/annotation-converter to 0.7.4
- @sap-ux/vocabularies-types to 0.9.3
- @sap-ux/vocabularies-types to 0.9.3
- @sapui5/ts-types-esm to 1.96.25
- @types/semver to v7.5.2
- esbuild to 0.19.3
- @types/jquery to 3.5.19
- @sap-ux/fe-fpm-writer to 0.23.5

## [1.96.47] - 2023-09-07

### Added

- OData V2:
  - Added support for the binding pattern to `showHeaderContent` property

### Fixed

- OData V4:
  - Wrong annotation path is generated for connected fields with a different entity type than the section
- OData V2:
  - Schema was not completely filled for custom columns, enum values for fragmentName and cellsFragmentName had been partially missing

### Quality

- Update transitive dependencies

Upgrades:

- @types/jquery to 3.5.18
- eslint to 8.48.0
- esbuild to 0.19.2
- @sap-ux/fe-fpm-writer to 0.23.2
- jquery to 3.7.1
- @types/semver to 7.5.1
- @sap-ux/vocabularies-types to 0.9.2
- @sap-ux/annotation-converter to 0.7.3
- typescript-json-schema to v0.57.0

## [1.96.46] - 2023-08-23

### Quality

- Update transitive dependencies

Upgrades:

- eslint to 8.47.0
- eslint-config-prettier to 8.10.0
- @sapui5/ts-types-esm to 1.96.24
- @sap-ux/fe-fpm-writer to 0.23.0
- @sap-ux/annotation-converter to 0.7.2

## [1.96.45] - 2023-08-09

### Added

- During the API call, an additional check verifies the given specification version against the minUI5Version from the passed manifest; in case of a mismatch a warning is added to the logger
- OData V4
  - Support connected fields on the Object Page

### Quality

- Update transitive dependencies

Upgrades:

- eslint to 8.46.0
- eslint-config-prettier to 8.9.0

## [1.96.44] - 2023-07-26

### Added

- OData V4:
  - Default aggregation support for macros table and action group
  - Multiple namespaces support for macros

### Fixed

- Fixed an issue with the CHANGELOG.md file not being visible on npmjs
- Fixed an issue with schema generation where annotation columns were not resolved in cases when a macros table was referring to a line item with a qualifier defined in the metaPath

### Quality

- Update transitive dependencies

Upgrades:

- eslint to 8.45.0
- @typescript-eslint/eslint-plugin and @typescript-eslint/parser to 5.62.0
- @sap-ux/vocabularies-types to 0.9.1

## [1.96.43] - 2023-07-12

### Quality

- Update transitive dependencies

Upgrades:

- @sap-ux/fe-fpm-writer to 0.22.3
- @typescript-eslint/eslint-plugin and @typescript-eslint/parser to 5.61.0
- eslint to 8.44.0
- eslint-formatter-multiple to 2.0.0
- eslint-plugin-prettier" to 4.2.1
- semver to 7.5.4
- @sapui5/ts-types-esm to 1.96.23

## [1.96.42] - 2023-06-30

### Fixed

- OData V2:
  - Fixed type of variant key for QuickVariantSelection (X) on tables to `string`.
- OData V4:
  - Exception on macro table with metaPath to PresentationVariant.

### Quality

- Update transitive dependencies

Upgrades:

- semver to 7.5.3
- @typescript-eslint/eslint-plugin and @typescript-eslint/parser to 5.60.0
- @sap-ux/vocabularies-types to 0.9.0
- @sap-ux/edmx-parser to 0.6.0
- @sap-ux/fe-fpm-writer to 0.22.2

## [1.96.41] - 2023-06-14

### Added

- OData V4:
  - Support for Custom subsections.

### Changed

- OData V4:
  - Changed binding expression to use "isEditable" property instead of "editable". Thus we have binding expressions {ui>/isEditable} and {= !${ui>/isEditable}}.

### Fixed

- OData V4:
  - When adding new pages, the export calculates the route pattern for the new manifest entry.
  Indeed, the previous logic did not consider the naming at parent pages, but defined the key name in the pattern as `key`(+ index). This led to navigation errors at run-time. Now, the key names of existing parent pages are taken over to the child page's pattern.

### Quality

- Update transitive dependencies

Upgrades:

- d3 to 7.8.5
- i18next to 22.5.1
- @sap-ux/fe-fpm-writer to 0.22.1

## [1.96.40] - 2023-05-31

### Fixed

- Correct missing or inconsistent tags `keys`and `dataType` in the app schema generation, especially for intentbased navigation

### Quality

- Update transitive dependencies

Upgrades:

- @sapui5/ts-types-esm to 1.96.22
- @typescript-eslint/eslint-plugin and @typescript-eslint/parser to 5.59.8
- i18next to 22.5.0
- ts-node to 8.10.2
- rimraf to 5.0.1
- @sap-ux/fe-fpm-writer to 0.20.2

## [1.96.39] - 2023-05-18

### Added

- General:
  - Enhancement of error handling, more explicit messages are passed to the logger.  
  Fix of error handling of exceptions from annotation parser.
  - Fix for List Report with multiple views and Object pages on second level in Page map
- OData V4:
  - Added ID (`internalId`) property for macros metadata in schema

### Quality

- Update transitive dependencies

Upgrades:

- excel4node to 1.8.2
- rimraf to 5.0.0
- i18next to 22.4.15
- @sap-ux/fe-fpm-writer to 0.18.9
- @sapui5/ts-types-esm to 1.96.21
- semver to 7.5.1
- typescript-eslint to 5.59.5
- jquery to 3.7.0

## [1.96.38] - 2023-05-04

### Fixed

- OData V4:
  - Parsing of commented contents in XML fragments, comments are now getting ignored during generation and import

### Quality

- Update transitive dependencies

Upgrades:

- prettier: to 2.8.8
- typescript to 4.9.5
- @types/nodes to 18.16.3
- patch-package to 6.5.1
- @typescript-eslint/eslint-plugin and @typescript-eslint/parser to 5.59.2
- Update @sap-ux/vocabularies-types to 0.7.4
- Update @sap-ux/annotation-converter to 0.5.22
- Update @sap-ux/edmx-parser to 0.5.14 

## [1.96.37] - 2023-04-19

### Fixed

- OData V4:
  - Fixed an issue with custom extensions running into an endless loop

### Quality

- Update transitive dependencies

Upgrades:
- @sapui5/ts-types-esm to 1.96.20
- @typescript-eslint/eslint-plugin and @typescript-eslint/parser to 5.58.0
- @types/mem-fs-editor to 7.0.3
- semver to 7.5.0

## [1.96.36] - 2023-04-05

### Added

- OData V4:
  - Building blocks support for custom sections

### Quality

- Update transitive dependencies

Upgrades:
- excel4node to 1.8.1
- eslint-config-prettier to 8.8.0
- prettier to 2.8.7
- @typescript-eslint/eslint-plugin and @typescript-eslint/parser to 5.57.0
- d3 to 7.8.4

## [1.96.35] - 2023-03-22

### Added

- OData V4: the schema App.json and config app.json that get generated now also comprise the information `routePattern` for each page, i.e. the route pattern of the page as comprised in the manifest.json.

### Quality

Upgrades:

- chalk to 4.1.2
- types/jest to 28.1.8
- jQuery to 3.6.4
- sapui5/ts-types-esm to 1.96.18
- ejs to 3.1.9
- deepmerge to 4.3.1
- eslint-config-prettier to 8.7.0
- prettier to 2.8.4

## [1.96.34] - 2023-03-08

### Fixed

- OData V2:
  - Fixed deletion issues for Custom Columns that appeared after positions were changed

### Quality

- Upgrade "typescript" to "4.9.4"
- Upgrade "@typescript-eslint/eslint-plugin" and  "@typescript-eslint/parser" to "5.52.0"
- Upgrade "ts-node" to "10.9.1" 
- Upgrade "@sap-ux/fe-fpm-writer` to "0.18.7"
- Upgrade "mem-fs-editor` to "9.7.0"
- Revert "typescript-json-schema" to "0.53.0" in types package

## [1.96.33] - 2023-02-22

### Removed

- Manifest properties from views with different entity set

### Quality

- Upgrade transitive dependencies
- Upgrade "@types/jquery" to "3.5.16"
- Upgrade "@types/mem-fs-editor" to "7.0.2"
- Upgrade "excel4node" to "1.8.0"
- Upgrade "i18next" to "20.6.1"
- Upgrade "typescript-json-schema" to "0.55.0" in types package
- Upgrade "@sap-ux/fe-fpm-writer` to "0.18.5"
- Upgrade "d3" to "7.8.2"
- Upgrade "@sapui5/ts-types-esm" to "1.96.17"
- Upgrade "jest", "ts-jest", "@types/jest"
- Upgrade "set-value"

## [1.96.32] - 2023-02-09

### Added

- XML Property artifact type for building block properties

### Changed

- OData V4: enhancements for the support of contextPath

### Fixed

- OData V2:
  - resolved sync issue with unknown properties on fields for `Table > CreateWithParameterDialog`
- OData V4:
  - Fixed issue with missing schema and config for List report page in freestyle app

### Quality

- Upgrade transitive dependencies
- Remove unused devDependencies
- Upgrade ejs to `3.1.8`
- Upgrade @types/jquery to `3.5.13`
- Upgrade jQuery to 3.6.3.
- Upgrade semver to 7.3.8
- Upgrade axios to 0.27.2
- Upgrade deepmerge to 4.3.0
- Upgrade mem-fs-editor to 9.6.0

## [1.96.31] - 2023-01-25

### Added

- OData V4:
  - Generation of `propertyIndex` property in schemas for root properties

- OData V2:
  - Generation of `propertyIndex` property in schemas for root properties

### Quality

- Removed many unnecessary and obsolete resolutions
- Upgrade fe-fpm-writer to 0.18.4

## [1.96.30] - 2023-01-11

### Added

- General:
  - New definitions for page types are delivered that allow a better distinction:
    - PageTypeV2 for types that occur in OData V2
    - PageTypeV4 for types that occur in OData V4
    - PageType as a superset of all page types that may occur

- OData V4:
  - Support visual filters in toolbar on List report
  - Support actions in header on List report
  - Default annotationPath is added in schema even if LineItem annotation is not defined
  - Added support for applications using `contextPath` in manifest.json

### Changed

- API for OData V2:
  - Inner functions for the generation of app schmas hav ben adapted, i.e. generateAnalyticalListReportSchemaV2, generateListReportSchemaV2, generateObjectPageSchemaV2: the entityTypeName is not passed as an input parameter anymore, as the entity set cannot be uniquely determined from it. Instead, the functions now rely on generateParameters.entitySet, the entityType is derived from this information.  The api version is increased to 7.

### Fixed

- OData V4:
  - Fixed toolbar action IDs by replacing special chars with double colon
  - Fixed incorrect order of Custom Actions when multiple before anchors are used
  - Not all meta characters of action keys had been converted to `::`, as a consequence existing actions in manifest may have not been considered, or new actions had not been written with the right syntax.
- OData V2:
  - Fixed deletion of fragment cells contents in case last element is deleted

### Quality

- Removed obsolete snapshots files
- Removed unused and obsolete resolutions

## [1.96.29] - 2022-11-30

### Added

- Missing i18n classification added to labels of custom views

### Changed

- UI adjustments of in-place documentation:
  - moved label of specification and odata version to tree canvas
  - aligned behavior of tree buttons to expand (+) and collapse (-) with given design
  - removed all hard coded colors
  - fixed hover on search results
  - aligned tooltip with given design

- OData V2:
  - fields for `Table > CreateWithParameterDialog` are now shown as enum and the import/export is done implicitly in the background (adding `path` property).

### Fixed

- Fixed an issue with adding target namespace information for object page sections

## [1.96.28] - 2022-11-17

### Added

- OData V4:
  - Support custom actions for Header and Footer

### Changed

- All parameters in the specification API now are typed
- Export `ControllerExtensionPageType`, `CustomActionTargetControl` enums from `fpm-writer` as types

### Fixed

- OData V2: Adjusted the values shown for `CreateWithParameterDialog` fields > `path` property
- OData V4: if the key of one view comprised the key of another view, the export of changes generated duplicate view entries in manifest. Activities like reordering of views did not work in this scenario.

### Quality

- Upgrade of "@sap-ux/vocabularies-types", "@sap-ux/annotation-converter", "@sap-ux/edmx-parser"
- Upgrade node version to 16.18.0

## [1.96.27] - 2022-11-03

### Added

- OData V4:
  - Support afterExecution for
    - List report toolbar actions
    - Object page header actions
    - Object page footer actions
    - Object page form actions

### Changed

- OData V4:
  - Refactored interfaces for custom actions
- General: the schema tag `key` (concatenated string) got replaced by the schema tag `keys` that is defined as an array of objects with `name`and `value`.  Reasons are the support of different CSS styles for `name` and `value` as well as globalization (bi-directional languages).
- API. Export `ControllerExtensionPageType`, `CustomActionTargetControl` enums from `fpm-writer`.

### Fixed

- OData V4:
  - Fixed an issue with custom pages using an unknown template (not `sap.fe.core.fpm`).

## [1.102.11] - 2022-10-20

### Added

- Applications that show content from schemas may want to also display the technical key - this simplifies identification of the corresponding element in the original source file. To this aim, the tag `key` is used for properties. `key` is a concatenated string that also sows a prefix following one of the patterns:
  - Value for DataFields
  - Key for custom columns etc. where it is a key in the manifest. Only exception are views: they have no prefix as there is logic that programs against the key.
  - ID for facets
  - Action for any action
  - Instance-based navigation: Property + SemanticObject + Action
  - Target for DataFieldForAnnotation.  
In case of Target, an additional schema tag `target` is added: it not only represents the namespace but potentially also the target within the namespace (entity container, entity type, ...)
- OData V4:
  - Custom action support in Object Page forms
  
### Changed

- Common dependencies have been moved to the root level.
- Further type definitions have been moved from the specification package to the types package.

### Fixed

- OData V4:
  - Fixed an issue with custom actions referencing each other

## [1.96.25] - 2022-10-06

### Changed

- Upgrade fe-fpm-writer version to 0.17.6

### Fixed

- At Object Page sections, a missing consideration of potential qualifiers of UI.Identification led to an exception.
- The API can be called with an empty array of annotations. By now this led to an exception, as it was not considered that the annotation vocabularies tools (AVT) return an empty instance.

### Quality

- Upgrade of d3 and d3-color
- Upgrade of FPM writer

## [1.96.24] - 2022-09-24

### Quality

- Changed settings to enable the SAP internal delivery of the types package

## [1.96.23] - 2022-09-22

### Added

- OData V4:
  - Added custom pages not using FPM library to pages view in Application Modeler Panel (limited functionality support)
  - Controller Extension support in "app.json"
  - Zero state support

### Changed

- Upgrade of fe-fpm-writer to version 0.17.2, increment of fpmWriter property returned by getApiVersion to 4.

### Fixed

- OData V4:
  - Reordering of custom views for list report did not work. This was fixed, but consequently the logic for deleting custom views also had to be adapted.
  - When adding new sub-pages to the app.json the export to manifest created wrong keys for the new navigation routes, and wrong query patterns for the targets.

### Quality

- Upgrade version of `typescript`, `ts-jest`, `jest`
- Minify sources
- Enhance test by removing dependency to typescript api
- Test coverage increased

## [1.96.22] - 2022-09-21

### Quality

- Changed settings to enable the SAP internal delivery of the types package

## [1.96.21] - 2022-09-08

### Added

- OData V4:
  - API for custom extensions extended to call enableFPM prior to adding concrete extension using the FPM writer of open-ux-tools

### Changed

- For an easier consumption and size reduction, the types definitions now have been moved to a separate types package in the given mono repository. The definitions are still exposed along with the specification package, you can import them from "@sap/ux-specification/dist/src".

- Only one common Manifest definition is exposed from the new types package, the virtual distinction between an OData V2 and an OData V4 version is resolved.

### Removed

- OData V4:
  - Removed `End` value from Placement property for custom extensions

## [1.96.20] - 2022-08-24

### Added

- API enhanced by a wrapper function for the creation of custom views (that delegates to the FPM writer of open-ux-tools)
- OData V4:
  - Added custom pages using FPM library to pages view in Application Modeler Panel

### Changed

- The specification module is now build with esbuild instead of webpack.
The new build generates all type information into a types folder, which makes it easier to consume (but the consumption must be adapted). Examples:

````
import { PageType } from '@sap/ux-specification/dist/src/specification/common/'; 
==>  import { PageType } from '@sap/ux-specification/types';

import type { TableCustomColumns, TableCustomColumn } from '@sap/ux-specification/dist/src/v2';
==> import type { TableCustomColumns, TableCustomColumn } from '@sap/ux-specification/types/v2';

import { SectionPosition as SectionPositionV4 } from '@sap/ux-specification/dist/src/v4';
==> import { SectionPosition as SectionPositionV4 } from '@sap/ux-specification/types/v4';
````

- OData V4:
  - LR: Mark view properties `key`, `index` as hidden in schema

### Fixed

- OData V2:
  - OP: Fixed incorrect generation of flexChanges in case of Form, Form Fields and Form Fields referenced from a navigation entity

- OData V4:
  - In some cases sections defined with PresentationVariants did not appear on the object page
  - The resolution of alias definitions using the @SAP__ prefix was not correct, leading also to gaps in the elements that were considered
  - LR: Schema now considers default visualation `UI.LineItem` if not defined in `SelectionPresentationVariant`

## [1.96.19] - 2022-08-11

### Added

- OData V4: the schemas and configs of list report views now also show the vsibility property and custom views

### Changed

- OData V4: With API version 4 of specification - introduced with the given version - the way how routes are represented in the app.json changes: before the pattern was
  `route: key`, now it follows the manifest syntax  

  ```
  key: {
      route: route
  }
  ```

  The switch to an object representation allows to also include other target information like "outbound"
- OData V4: as long as no views are defined in manifest, the showCounts property is not part of the schema, except if it is already maintained
- OData V2:
  - Mark custom column 'columnIndex' property as hidden

### Fixed

- OData V4:
  - LR: The export of property changes at the page editor led to a deletion of (custom) views in manifest; besides, outbound navigation entries could get deleted
  - Fixed an issue with missing custom action if an empty "press" is defined

## [1.96.18] - 2022-07-28

### Added

- OData V4:
  - Added support for custom actions for tables in LR and OP

### Fixed

- OData V4:
  - Fixed an issue with custom column export where it was not possible to restore a deleted column

### Quality

- Upgrade of webpack and dependent modules
- Upgrade of terser
- Upgrade of glob-parent, mem-fs-editor
- Upgrade of lerna
- Upgrade of fe-fpm-writer

## [1.96.17] - 2022-07-14

### Changed

- OData V4: In case of PresentationVariant definitions for charts or line items, an intermediate node had originally been introduced in the Object Page schema that represents the PresentationVariant. This multi-level propagation of references caused issues in the consuming UI, thus the intermediate node got deleted again. The PresentationVariant must be determined by the consuming application if necessary.

### Fixed

- OData V2:

- OData V4:
  - Properties of custom columns on object page had not been exported correctly if the table is associated to another entity type via navigation path or is using a PresentationVariant.
  The value help of the anchor in LSP (config JSON) also did not show the right values.
  - Object Page: Fixed an issue with the schema that `annotationPath` for Object Page Table Sections did not contain `qualifier`;
  wrong `annotationPath` and `isViewNode` settings are adjusted.
  - Fixed an issue with export that multiple changes to view's `key` property created duplicated entries in manifest.json

### Quality

- Switch from nexus repository to artifactory

## [1.96.16] - 2022-06-29

### Added

- OData V4:
  - Extend pagemap support for freestyle apps using FPM library

### Fixed

- OData V2:
  - OVP: LSP for `model` property of a card now lists models from sap.ui5 section of manifest.json
  - Table type property is now set to blank in case not maintained in manifest.json
  - If two sections of object page referred to an element (e.g. action, table column) of the same name, they had been sync'd by the program logic: changes of one property had also been refelected in the other.
  - One UI adaptation or flexibility change may have been shown multiple times in the config, at different sections.
  - No sorting by time took place before for flexibility changes, as a result an older change of the same property may have shown up instead of the newer one.
  - If several flexibility changes existed for the same control property, secondary ones had not been imported correctly: you could find them under a wrong property name in the config JSON file.

## [1.96.15] - 2022-06-16

### Added

- Missing exposure of type definitions was added.

### Changed

OData V2:

- Custom column property "columnIndex". Schema enhancement by defining range using "minimum=0".

### Removed

OData V4:

- In case of List Report views, non-applicable table properties are removed.

### Fixed

OData V4:

- In case of List Report views, custom columns with navigation property are considered for the correct view.
- Avoid creation of empty personalization object

OData V2:

- Custom column issue with Grid/Tree/Analytical table types - empty second custom column is added in xml files

## [1.96.14] - 2022-06-02

### Added

OData V4:

- In case of a default (without qualifier) Selection-/PresentationVariant, the table settings and columns are now considered on list report page.

### Changed

OData V4:

- Titles of charts in sections and header sections now correspond to the run-time.
- Add "annotationPath" schema property to schema for "Table" definition in simple list report.

### Fixed

OData V4:

- If `defaultAnnotationPath` is used, corresponding custom columns were not considered on list report page.

### Quality

Upgrade node & node-version to 14.x

## [1.96.13] - 2022-05-19

### Changed

- OData V4:
  - For list report views, the content of title and description in the schema got exchanged.
  - Custom columns having an invalid anchor are not filtered out anymore but added to the schema (at the end of the columns' list). This better supports fixing the situation and is necessary so that the import fills the properties correctly.
  - LR: If views are enabled, generic table columns won't be used/filled.

### Fixed

- OData V4:
  - If the table setting creationMode existed in the outdated string format, the export just had overwritten the string. Now, an implicit conversion to the new object format takes place.
  - In case of multiple custom columns with an invalid anchor the app schema generation ran into an endless loop.
  - No import of property annotationPath was happening at chart views of List Report.
  - In the app specific schema, the description was missing for charts in sections.
  - Tag 'hidden' was added to the property annotationPath of the ALP chart view in app schema.
  - If defaultTemplateAnnotationPath is maintained and refers to an annotation other than UI.LineItem, the table settings and columns of the referred definition are now imported correctly.

### Quality

- Code smells fixed, as reported by sonarQube.
- Upgrade of annotation vocabularies tools.

## [1.96.12] - 2022-05-05

### Added

- OData V4:
  - The title of ALP or List Report views is now following the same criteria as the UI5 run-time.

### Fixed

- OData V4:  
  - Problems with deletion of ListReport table views.
  - Unknown properties removed from custom section definition in 'manifest.json'.
  - delete 'table/personalization' object property in 'manifest.json' if last property was removed.
  - Export. Delete of entries from `table/views` - views were not deleted during export if entries in annotation file were deleted as first.
  - When changing the table type in the page editor for LRP (V4), the respective manifest setting is not updated as long as this page is configured with the primary and secondary views.
- OData V2:
  - Sections and subsections with a reference to Communication.Contact or Communication.Address had not been shown, support of flexibility changes for them.
  - Facet or section references with multi-level navigation had not been handled correctly.  

### Quality

- Switch consumption of "@sapui5/ts-types" to "@sapui5/ts-types-esm".

## [1.96.11] - 2022-04-21

### Added

- OData V2:
  - LR: Old settings for table type (tableType) had been ignored in newer specification releases. As a consequence, you may have found the table type twice in manifest, once with the old syntax and an additional entry with the new syntax, after switching to a newer UI5 version.
  Now an implicit conversion to the new tableSettings takes place, and the old setting gets automatically replaced during the export.
- OData V4:
  - OP: Added support for presentation variants with chart or table visualization

- Documentation actualized with regards to the new release version 1.100.

### Fixed

- OData V4:
  - Exception in case of multi-tab views in manifest that referred to a SelectionVariant.
  - Export of table settings of list report was targeting the wrong manifest settings if a defaultTemplateAnnotationPath is defined, pointing to a SelectionPresentationVariant.
  - List report with multiple views: insert and reordering was not supported correctly.
- OData V2:
  - After an entry of quickVariantSelectionX got deleted, the entry still was present in manifest.json.
  - Sections of subordinate object pages had not been added correctly to the app schema in all cases.

### Quality

- upgrade ejs to 3.1.7
- SonarQube: issued solved with regards to cognitive complexity

## [1.96.10] - 2022-04-07

### Added

- OData V4:  
  - Support of defaultTemplateAnnotationPath as property; consider defaultTemplateAnnotationPath when retrieving the relevant table settings and while switching to ALP flavour.

### Fixed

- OData V2:
  - Extensions - empty "extensions" object was created in "sap.ui5/"extends"/"extensions"/"sap.ui.viewExtensions"/"sap.suite.ui.generic.template.ListReport.view.ListReport".

### Quality

- Replace type object for schemas by Definition from 'typescript-json-schema'.
- Upgrade of async.

## [1.96.9] - 2022-03-31

### Quality

- Upgrade `minimist` resolution.

## [1.96.8] - 2022-03-31

### Quality

- Upgrade `minimist` version.

## [1.96.7] - 2022-03-24

### Added

- OData V4:
  - Support of `flexEnabled` property.
  - ALP flavor, support of ALP views.
  - List report: multiple views, with the right properties.

### Fixed

- OData V2:
  - Duplicated fragment columns were written if table namespace was not found, and unknown custom data in fragment was not considered.
- OData V4:
  - Custom columns had not been considered when having a 'Before' reference against other custom columns.
  - Fix overwriting of manifest page content, if page key is changed.

### Quality

- Switch to Whitesource Universal Agent
- piper lib upgrade
- Upgrade eslint
- Switch to import type for TS
- Refactoring to resolve sonarQube code smells

## [1.96.6] - 2022-03-09

### Added

- OData V2:
  - visible property is now also available for facets without annotation Id

- OData V4:
  - Support of progress, rating and microchart header facets
  - Version increase for "fe-fpm-writer" from "0.4.0" to "0.5.0"
  - Return "fpmWriter" API version - current version "1"

### Fixed

- OData V2:
  - Creation of new flexChanges now considers resolved Id from pom.xml
- OData V4:
  - Fix overwriting of manifest page id in case of different page key

### Quality

- removed unused dev dependency to `http-server`

## [1.96.5] - 2022-02-23

### Added

- Metadata information `dataType` added to various places in V2 and V4 schemas
- OData V2:
  - display selection fields, and support date settings properties on LR/ALP

### Fixed

- SonarQube code smells

### Quality

- Unnecessary js files removed from bundle
- Unit test enhancement to run on all platforms

## [1.96.4] - 2022-02-10

### Added

- OData V2:
  - Support default date range `defaultValue` property on filter fields
  - LR/ALP: Support column and footer action properties

- OData V4:
  - Support of custom columns  

### Fixed

- OData V2:
  - OP: Fix generation of flexChanges for sections with or without ID in annotations
  - Fix issues with sync logic in case of sub object page

### Quality

- Unnecessary js files removed from bundle

## [1.96.3] - 2022-01-26

### Added

- OData V2:
  - `exportType` property can now be configured to specify the type of export to be used in the SmartTable control
  - OP: `statePreservationMode` property can now be configured to allowing applications to configure persistence mode in an object page
  - OP: `draftDiscardConfirmationSettings` property can now be configured allowing applications to turn off the discard draft confirmation popup in various scenarios

### Quality

- Upgrade of node-fetch

## [1.96.2] - 2022-01-12

### Added

- OData V2:
  - OP: properties of footer actions are displayed and supported in side panel
  - properties of toolbar actions are displayed and supported in side panel
  - OVP: The property `showLineItemDetail` is now supported for List and Table cards
  - OP: Schema now supports column extensions for TreeTable

### Changed

- OData V2:
  - property `filterDefaultsFromSelectionVariant` is now only supported for AnalyticalListPage floorplan
  - OVP: The property `tabs` and `addOdataSelect` can now be confirued for all cards
- OData V4:
  - property `afterExecution` of table columns now is only visible for actions but not for other record types
  - deprecated `name` property and support new `template` property for custom sections in manifest
  
### Removed

- OData V2:
  - OVP: removed `tabs` property from card level

### Fixed

- OData V2:
  - correct schema generation in case multiple facets are referring to lineitem annotation of same entity
  - Facet Id is considered for import and export of manifest settings
  - Fixed sync issues in case no text is provided for custom columns
- OData V4:
  - Avoid exporting empty arrays to manifest.json

### Quality

- Upgrade of trim-off-newlines
- Upgrade of yarn classic
- New whitesource endpoint
- Upgrade of follow-redirects

## [1.96.1] - 2021-12-06

### Quality

- Update of pipeline configuration

## [1.96.0] - 2021-12-02

### Added

In comparison to release 1.90, this release also comprises an API generateCustomExtension, refer to the README.

### Changed

The api version (getApiVersion) is increased to 2 to reflect the presence of the new generateCustomExtension API.
